<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="https://res.wx.qq.com/open/libs/weui/0.4.3/weui.min.css">
    <title>微信支付</title>
</head>
<body>
    <div class="weui_msg">
        <div class="weui_icon_area"><i class="weui_icon_success weui_icon_msg"></i></div>
        <div class="weui_text_area">
            <h2 class="weui_msg_title">确认是否完成支付</h2>
            <!-- <p class="weui_msg_desc">内容详情，可根据实际需要安排</p> -->
        </div>
        <div class="weui_opr_area">
            <p class="weui_btn_area">
                <a href="javascript:;" class="weui_btn weui_btn_primary success" onclick="comfirmClick()">是</a>
                <!-- <a href="javascript:;" class="weui_btn weui_btn_default" onclick="comfirmClick()">否</a> -->
            </p>
        </div>
       
    </div>
   
</body>
<script>
    // window.onload = function(){
        // document.querySelector('.success').onclick = comfirmClick()
        function comfirmClick (){
            // document.querySelector('.weui_dialog_alert').style.display = "block"
            var u = navigator.userAgent, app = navigator.appVersion;
            var isAndroid = u.indexOf('Android') > -1 || u.indexOf('Linux') > -1; //g
            var isIOS = !!u.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/); //ios终端
            if (isAndroid) {
                //这个是安卓操作系统
                close.close();
            }
            if (isIOS) {
        // 　　　　//这个是ios操作系统
                var jsonStr = '{"id":"666", "message":"我是传递的数据"}';
                //UIWebView使用
                getMessage(jsonStr);
                //WKWebView使用
                //使用下方方法,会报错,为使界面执行逻辑通畅,因此使用try-catch
                try {
                    window.webkit.messageHandlers.getMessage.postMessage(jsonStr)
                } catch(error) {
                    console.log(error)
                }
            }
        };
        function getMessage(json){
            //空方法
        }
    // }
    
    // document.querySelector('.confirm').onclick = function(){
    //     document.querySelector('.weui_dialog_alert').style.display = "none"
    // }
</script>
</html>